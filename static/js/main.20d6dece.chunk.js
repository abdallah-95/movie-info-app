(this["webpackJsonpmovie-info-app"]=this["webpackJsonpmovie-info-app"]||[]).push([[0],{30:function(e,t,a){},34:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAyCAYAAAATIfj2AAAACXBIWXMAAA7EAAAOxAGVKw4bAAALQklEQVR4Xt1ZCXAUZRb+unu6p+fINQmEECOQZEkURSAkoKhRN1y6rFuuIEEE8cBVyJZ4cXqsxboWC1vrgSK6axWLB9Tiqtw3KCA3BAwxgSRCLpJMZiaZe3p6/n3dIbvKesAkYQt6aqrTme7/ve9/7//e9/4GLsHhc3zY8xKY0U3wl8JQU03V7y6FnUsGqOJE8aArCtCZyqOpVxQgv6/FdMUAKt7w+FRLTNKVA6imtqZAlmOuHECNjWfSeVE2XjEp525pzJYka6yz/G2p9ugCuauBdWkd2rBsrCCJRksEDJbYbt1lqzW7qwEZutKAYDIUyZZERFQFYlxqnllQYsje0a602aURUhS1QDAYwdQwIPcYIZtt/T1NH3W7bAE5GqoH84KICH2A2EEQrNmSLI64bAEpgdZknjeARRhhMMQhIqWwoL/osgT01fonegscLVGOQ4RpEYIKiLKB46+9LAHxYDMlU1yb72ENUCRA6GSeT4xhofV3dhWoLiMFv9efIwhtJBrRggPVA0o+UAoiFJh42QFqPluVzfMiOPKc6aSgusExBUwEfC3DLztAfq8zhuMFAkRrSNUixFQIHP1BECPeJOZa2yU1UB/UU/baNEvmdfvAG6lVNniB4FnAX85xo5RoZrJ40zPDy0p2tT1K/jON5PRcO9ch86RVTcLDdP3OhYxfevAN3mKRe1mtxqFmyXhzJBC6QWBqKjh3wBfwFm/55O+Dzkqpy4ue3v6yDsgEft2SmY+sTkpM7PHre8e1SL2ullB3Mi5yYp5RhSGoCEY3440eAuziDaJdks12jjf4OaPsglE+gUDgoN/VesrjbmWqqnINjQ3PinIMJZqOhABpEeJJoBLl6f+TtIU1MVK34h9NjY2xYTXcR5SkMZIpZoASDmVFAp7EiOqNYyEnOMUNPlwJg0eGISBDMJtgtKWh5uRp7Nm5HocP77PcNu6R9KKxS6h66/P338P+1Zw75s15ZX28TZTyR0/AoNwB6J6VBThqoPoDCAWDCJNzlEQgx8nRMJ1DUOkcCQehKkFwUhzcfhXHjh2HQTRAURT4PWcxedbO3fDbh0GppyRwo/zQenic9ZDkWAiCERIpCpos8ET1GpmIVJC1lBUosKJBQGxSMhpq61BeXokje7fA66pHv2F3Tb/7sVWLv4vhe4Daf9j74X1Ll7+/4lFB5mE0mzF4yO3IyR2I9AE3AK3NCJ4Dp0VAK5oR7tyZckuNhCEZjSj9phS1tbX6kF53PabM/iJIgIyINMPVUIxvTxbDZLFSDpILHA+R58HTV+MPTuAJoAGJtkQ4nS6cqa7BiePF9BuDq+kUEntmrb9/9q4fpP4fBKQ5cWzleG7P0eKtxw+U3p7Ysxu8Ph989M3JG0rgcjAgN5fqiwJPaytCSggRJQxGjqik2xg5aTaZsGXbZrqOwN1ai4fnlACBUzSyA3s3vYm4uG46AJ7AaInCUzYKdJ0QnwAlGAKlLU6Wn0Q4pECgyPk9jVqGNANC9pSXi+0/tvZ+FFD7A3uW3RO39cu91Y6GupjYbim6AV/ATzPnxXXXZ2FwXi5uvHEoJALQ4nQiGAxQlCh2FC2eZnnd2jVgihMPP19KQ7bi6OZZ0PSdQWNAAqF94uPi9Ui5Wlz4tupbBCgDRHqWkXdqyI/m+lOQTUnTCufue+vnSORnAbUP8Mlrvxy7fdPWlWaLEXKMDeGwSt8QPBS1lpYQru7VDTcNG4a8IXno1qMHmhsboVDbYG+0Y8vmT/Dkq2dwpnQZGiq3wyBZER8bC7PRBI/Xg/r6enjcHhgIBEco9DSmGuxsKCMgybt+8+SWW34OSPvvFwyo/YHli8Zs3vrZ6oKkVCutFRlhIocIRSMcDhPZ0Ww6VCQkGpB/a74OLqN/f6z9eAlGPbgJh9ZOQM+0/ggGAnA6aC25Wog4aPHrWo/EEkVWDTMEfQ5KLxqryZ32yPwjNRcK5n9Y7mIefGPebaEDX+wQk9NIr1HqaCkWiaiUbhoxqLrTDie5KQD5+TfgiRl/xu5t78Dt8kC2xFOUZPCMQBAYlSZDyy+VmNLVVEmE0P1PY36/fs7F+BN1hL5rZMH0/r3rGiqqvB4v4myxOgFQTdHXkEDpIxkltBJpTLx/AvyUoiPHfwiP4wjqK3egtmIvSTo/RGMb0/ncZ2EyJzfdPvGj7tEA6RRA7YO8OWvYU8eO715kjbHCaJKp1sp6tLxeLzIzM3FHQQGto7UYefd0ZAx8kMQp0bkkQnGcxJmKA6iuOIaUlOzJ2be9uKwjYDqUcucb/uzdKesO718zWmu5FW1RU6T8FIGioiJaVw6UlZehsf4kil7YAYGFiL5aKc38NEyQzj6E3cFYMW28u6OAOq192L7h/dGiZKaFrRExYG9uxpQpU9DU1NQmeAhkUnIG3ltA9dDci+4gCaTxMjEllX0Yknu/0VEw2vOdAui9vxbON1ksbf7wjFLNg5EjRrTVGR1MhKp/G6FyYizWLX8IiOnTrlqpVpJYtZdOZsGNRCEdOzoM6C8vjeOc1cVzzdYE8oS2Q2jtxMXHIy8vj2g8qHdCukRt06kwEtWXlxzC6a9X007QuUnQUCsOWldpT3UMTidEqGdmr6z60ydItpCCpmRzEFdPnjQJTXa7rgJ0ICRvGBVZ7Vqj93hbD3z07rxzAlwDS/cZYhFpOvrC/xXQB0uLeMFjL7V1117/kHCkQjl27Fj4iN30XDt3BH3NJCivh5/OWhpq9yYl98bb8wuBBFLzWovOiWDucitjezv0LqlDKdc7M13eu+l9iKJZbxPS09PpmwGFRKueZdRqBKl1uHbg6NT+1/Yz9blmFGtxnNFBacJUjfDY8MEfARv1ldp2g5hIoKpXdSRKUQPaueYPHBcUvHFJ2kZoBH6SKvdSdJwOl+4wI/YKK17kDPmVbEufUpfaf1rgqu4xcv5dU7c31H2tR9BksuDI/q3US5IKp96JqjHCZ0uGMLYl6k39qAGlpPWUt3/6CvVL8WhuduCB+x+Ao9lOUocjXUe1hY4ho8emWPpMbbugI/vm50NmQR0+bvKcwsYa6m9ofSVRuv7tdVI51qtI02lbd7FUeL3vRhulqAFZEsyLAn4XtQshDM4ZjPiEeN2HUMhDaiEJA0dP6McZ76a9ie8ffYe+oPYZ8OzHhRPnZtgby/R97wRqS9565Rkgpa++lgJVxyaylhVRbaJEBaiubLG4beWKxy3xPYjdOBSMKKA2wAvF70SMrS+uufWuLI7LP/FTs9x76OzKwnHPGX0+Jy0fatP9bmxesZLeUtj0BhEx1hejiVJUgFIyM3JKD3xOwtOHSUTRmrQJeRtgS8/3ZeTdms5xN5VfiDO9bpkdGn/vdJOR9hV42uHatfVT2Ou9tM9gga/imxmsYvFFtzdRAdr2r917REsSRgwvIL85+FurcVXub8t6Zl2TzHFDqi4ETPs9KblPBe4ZM8GU2icPMpWy1xfOhWD7BVjAbkGS7Y6LGSvqe1+cbGZvzx3IXCUL2PHPx7EQ27eK6keHZIu3clnCztWvslmFYIvn5TDWupJ5K9+qdh6Yf9FRuihgDRUvz37uPok5jy9gJWsLWZgdWnhRA/zEzb7qVfFVJzbaHxsJtvOfTzC17CUWqVx6bse/s6ycN86iGdez4jWPsVObH2IqO/xoZ5uJuHYavPaDn066Bay55DUWrP6grLNt/Gc85lgoLZ7RgzXuf5Yk2Y5+XWaIBmah6v3T7iSxUbWQhWpXp3WJrVVLRlbaD8wkMBszu8TAeYMypgRef7ovU1u/PNYl9g5+PMrD2FLtTfYlO2j2WMnGmex06WfmTjUarp2ay1yvRlW9O+oI7aG7XJ4jN1/IOP8G1S/hVCmMnRIAAAAASUVORK5CYII="},39:function(e,t,a){e.exports=a(82)},44:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),o=a.n(i),s=(a(44),a(45),a(15)),c=a(16),l=a(19),m=a(20),u={topMovie:null,movieBrowsingHistory:[]};var p=Object(l.c)(Object(l.b)({displayTopMovie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return"TOP_MOVIE_DISPLAY"===t.type?Object(m.a)(Object(m.a)({},e),{},{topMovie:t.movie}):e},addMovieToHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if("ADD_PREV_MOVIE_TO_HISTORY"===t.type){var a=e.movieBrowsingHistory;return a.unshift({movie:t.movie,trailer:t.trailer,movieImages:t.movieImages}),Object(m.a)(Object(m.a)({},e),{},{movieBrowsingHistory:a})}return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),v=a(10),d=a(11),h=a(13),f=a(12),g=a(3),E=a(1),b=a.n(E),x=a(6),O=(a(30),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).handleOnSubmit=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),null!=e.state.movieName){t.next=4;break}return t.abrupt("return",null);case 4:return e.props.handleLoadingState(!0),t.next=7,fetch("https://www.omdbapi.com/?apikey=".concat("457a95d2","&t=").concat(e.state.movieName,"&y=").concat(e.state.movieYear),{method:"Get"}).then((function(e){return e.json()}));case 7:if(n=t.sent,r=null,i=null,"False"!==n.Response){t.next=14;break}e.setState({movieFound:!1}),t.next=21;break;case 14:return e.setState({movieFound:!0}),t.next=17,e.getMovieTrailerVideoID(n.Title,e.state.movieYear);case 17:return r=t.sent,t.next=20,e.getMovieImages(n.imdbID);case 20:i=t.sent;case 21:e.props.updateMovieState(n,r,i),e.props.handleLoadingState(!1);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getMovieTrailerVideoID=function(){var e=Object(x.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&key=".concat("AIzaSyCzkXD6Mo9bs4Rmc_baZ9QADnW9_8afNCI&q","&q=").concat(t," trailer ").concat(null!=a?a:""),{method:"Get"}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",null==n.error?n.items[0].id.videoId:null);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.handleMovieNameTextBoxOnChange=function(t){e.setState({movieName:t.target.value})},e.handleMovieYearTextBoxOnChange=function(t){e.setState({movieYear:t.target.value})},e.state={movieName:null,movieYear:null,movieFound:null},e}return Object(d.a)(a,[{key:"getMovieImages",value:function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://imdb8.p.rapidapi.com/title/get-images?limit=7&tconst=".concat(t),{method:"GET",headers:{"x-rapidapi-host":"imdb8.p.rapidapi.com","x-rapidapi-key":"5be5f66559msh6061b7e3181b542p14e189jsnfa3d8f1e138e"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.images);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"ml-5 mt-3 MovieAppHeader"},r.a.createElement("form",{onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"form-inline"},r.a.createElement("h3",{className:"col-12 p-1"},"Search movies"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",placeholder:"Title",className:"col-12 form-control  ".concat(!0===this.state.movieFound?"is-valid":!1===this.state.movieFound?"is-invalid":""),onChange:this.handleMovieNameTextBoxOnChange,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Year",className:"col-3 form-control",onChange:this.handleMovieYearTextBoxOnChange}),r.a.createElement("br",null)),r.a.createElement("input",{type:"submit",value:"Search",id:"sub1",className:"form-control btn btn-primary"}),r.a.createElement("div",{className:"invalid-feedback",style:!1===this.state.movieFound?{display:"block"}:{display:"none"}},"Movie Not Found!"))))}}]),a}(r.a.Component)),N=a(28),w=a(37),y=a.n(w),M=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container w-100 MovieBriefInfoBox"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1 mr-2 pl-1"},r.a.createElement("img",{src:a(34),alt:"star"})),r.a.createElement("div",{className:"col-2 pl-1"},r.a.createElement("span",null,this.props.movie.imdbRating,"/10"),r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"10px"}},this.props.movie.imdbVotes)))),r.a.createElement("div",{className:"row mt-3 MovieBriefInfoSubBox"},r.a.createElement("div",{className:"col pl-1"},r.a.createElement("span",null,this.props.movie.Rated),r.a.createElement("span",null,"|"),r.a.createElement("span",null,this.props.movie.Genre),r.a.createElement("span",null,"|"),r.a.createElement("span",null,this.props.movie.Runtime),r.a.createElement("span",null,"|"),r.a.createElement("span",null,this.props.movie.Released))))}}]),n}(n.Component),k=a(38),A=a.n(k);var P=r.a.memo((function(e){var t;return null===(t=e.images)||void 0===t?void 0:t.map((function(t,a){return r.a.createElement("img",{alt:"",src:t.url,className:"movieImage",onClick:function(){return e.openImageViewerCallback(a)}})}))})),I=function(e){var t,a,i=Object(n.useState)(0),o=Object(N.a)(i,2),s=o[0],c=o[1],l=Object(n.useState)(!1),m=Object(N.a)(l,2),u=m[0],p=m[1],v=Object(n.useCallback)((function(e){c(e),p(!0)}),[]);return r.a.createElement("div",{className:"container mt-5 movie"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h2",{className:"mb-2"},null===(t=e.movie)||void 0===t?void 0:t.Title),r.a.createElement("img",{alt:"",src:null===(a=e.movie)||void 0===a?void 0:a.Poster})),r.a.createElement("div",{className:"col-md-8 col-sm-4"},r.a.createElement(M,{movie:e.movie}),r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col h-75 align-self-center"},r.a.createElement(y.a,{url:e.trailer,controls:!0,key:e.trailer,width:"100%",height:"100%"}))))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-7"},r.a.createElement("p",null,e.movie.Plot))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement(P,{images:e.images,openImageViewerCallback:v}),u&&r.a.createElement(A.a,{src:e.images.map((function(e){return e.url})),currentIndex:s,onClose:function(){c(0),p(!1)},backgroundStyle:{backgroundColor:"rgba(0,0,0,0.9)"}}))),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-6",style:{fontWeight:"bold",fontSize:"15px"}},r.a.createElement("p",null,e.movie.Awards))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-7"},r.a.createElement("h6",null,"Director:"),r.a.createElement("span",null,e.movie.Director),r.a.createElement("h6",{className:"mt-2"},"Actors:"),r.a.createElement("span",null,e.movie.Actors),r.a.createElement("h6",{className:"mt-2"},"BoxOffice:"),r.a.createElement("span",null,e.movie.BoxOffice))))},C=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("img",{className:"mt-2",src:this.props.moviePoster,alt:"",onClick:function(){e.props.onPrevMovieClickHandler(e.props.movie,e.props.movieTrailer,e.props.images)}}))}}]),a}(r.a.Component);function j(e){return{type:"TOP_MOVIE_DISPLAY",movie:e}}var R=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).getMovieTrailerVideoID=function(){var e=Object(x.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&key=".concat("AIzaSyCzkXD6Mo9bs4Rmc_baZ9QADnW9_8afNCI&q","&q=").concat(t," trailer ").concat(null!=a?a:""),{method:"Get"}).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",null==n.error?n.items[0].id.videoId:null);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.changeLoadingState=function(e){n.setState({Loading:e})},n.updateMovieState=function(e,t,a){n.props.addMovieToHistory(e,"https://www.youtube.com/watch?v=".concat(t),a),n.setState({movie:e,trailer:"https://www.youtube.com/watch?v=".concat(t),movieImages:a})},n.onPrevMovieClick=function(e,t,a){n.setState({movie:e,trailer:t,movieImages:a}),window.scrollTo({top:0,behavior:"smooth"})},n.state={movie:null,trailer:null,movieImages:[],Loading:null},n}return Object(d.a)(a,[{key:"getMovieImages",value:function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://imdb8.p.rapidapi.com/title/get-images?limit=7&tconst=".concat(t),{method:"GET",headers:{"x-rapidapi-host":"imdb8.p.rapidapi.com","x-rapidapi-key":"5be5f66559msh6061b7e3181b542p14e189jsnfa3d8f1e138e"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 3:return a=e.sent,e.abrupt("return",null===a||void 0===a?void 0:a.images);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({Loading:!0}),t=null,a=null,null==this.props.topMovie){e.next=13;break}return e.next=7,this.getMovieTrailerVideoID(this.props.topMovie.Title,this.props.topMovie.Year);case 7:return t=e.sent,t="https://www.youtube.com/watch?v=".concat(t),e.next=11,this.getMovieImages(this.props.topMovie.imdbID);case 11:a=e.sent,this.props.addMovieToHistory(this.props.topMovie,t,a);case 13:this.setState({movie:null!=this.props.topMovie?this.props.topMovie:null,trailer:t,movieImages:a,Loading:!1}),this.props.displayTopMovie(null);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this;return r.a.createElement("div",{className:"app"},r.a.createElement(O,{updateMovieState:this.updateMovieState,handleLoadingState:this.changeLoadingState}),!0===this.state.Loading?r.a.createElement("div",{className:"d-flex loading"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):null!=this.state.movie&&"True"===(null===(e=this.state.movie)||void 0===e?void 0:e.Response)&&r.a.createElement(I,{movie:this.state.movie,trailer:this.state.trailer,images:this.state.movieImages}),null!=this.state.movie&&"True"===(null===(t=this.state.movie)||void 0===t?void 0:t.Response)&&!this.state.Loading&&r.a.createElement("div",{className:"container previous-movies-group m-5"},r.a.createElement("h5",null,"History"),r.a.createElement("div",{className:"row"},this.props.history.map((function(e){var t;return r.a.createElement("div",{className:"col-1 mr-5"},r.a.createElement(C,{moviePoster:null===(t=e.movie)||void 0===t?void 0:t.Poster,movieTrailer:e.trailer,movie:e.movie,images:e.movieImages,onPrevMovieClickHandler:a.onPrevMovieClick}))})))))}}]),a}(r.a.Component),T=Object(c.b)((function(e){var t,a;return{topMovie:null===(t=e.displayTopMovie)||void 0===t?void 0:t.topMovie,history:null===(a=e.addMovieToHistory)||void 0===a?void 0:a.movieBrowsingHistory}}),(function(e){return{addMovieToHistory:function(t,a,n){e(function(e,t,a){return{type:"ADD_PREV_MOVIE_TO_HISTORY",movie:e,trailer:t,movieImages:a}}(t,a,n))},displayTopMovie:function(t){e(j(t))}}}))(R);var D=Object(c.b)(null,(function(e){return console.log(e),{displayTopMovie:function(t){e(j(t))}}}))((function(e){return r.a.createElement("div",{className:"row TopMovieItem mb-2"},r.a.createElement("div",{className:"col-1"},r.a.createElement("img",{src:e.movieData.movie.Poster,alt:""})),r.a.createElement("div",{className:"col-4 align-self-center"},r.a.createElement("span",null,e.movieData.ranking,"."),r.a.createElement(s.b,{to:{pathname:"/".concat(e.movieData.movie.Title)},onClick:function(){e.displayTopMovie(e.movieData.movie)}},e.movieData.movie.Title),r.a.createElement("span",{style:{marginLeft:"5px"}},"(",e.movieData.movie.Year,")")),r.a.createElement("div",{className:"col-1 align-self-center rating"},r.a.createElement("img",{src:a(34)}),r.a.createElement("span",null,e.movieData.rating)))})),S=(a(80),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={topMovies:[],currentPageMovies:[],currentPageMoviesData:[],currentPage:1,pageCount:5,pages:null,maxRight:null,maxLeft:null,maxNumberOfPages:5,Loading:!0},e.onPageClick=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,s,c,l,m,u,p,v;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=parseInt(a.target.dataset.value),"f"===a.target.dataset.value?n=1:"l"===a.target.dataset.value&&(n=e.state.pages),r=n-Math.floor(e.state.maxNumberOfPages/2),i=n+Math.floor(e.state.maxNumberOfPages/2),r<1&&(r=1,i=e.state.maxNumberOfPages),i>e.state.pages&&(r=e.state.pages-(e.state.maxNumberOfPages-1),i=e.state.pages),o=e.state.topMovies,s=(n-1)*e.state.pageCount,c=s+e.state.pageCount,l=o.slice(s,c),u=[],e.setState({Loading:!0}),p=b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMovieData(l[a].id.replace("/title/","").replace("/",""));case 2:m=t.sent,u.push({movie:m,rating:l[a].chartRating,ranking:o.findIndex((function(e){return e.id===l[a].id}))+1});case 4:case"end":return t.stop()}}),t)})),v=0;case 15:if(!(v<l.length)){t.next=20;break}return t.delegateYield(p(v),"t0",17);case 17:v++,t.next=15;break;case 20:e.setState({currentPageMovies:l,currentPageMoviesData:u,maxRight:i,maxLeft:r,currentPage:n,Loading:!1});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.numberOfItemsOnClick=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,s,c,l,m,u,p,v;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({Loading:!0}),n=e.state.topMovies,r=parseInt(a.target.dataset.value),i=(e.state.currentPage-1)*r,o=i+r,s=n.slice(i,o),c=s,l=Math.ceil(n.length/r),m=[],p=b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMovieData(c[a].id.replace("/title/","").replace("/",""));case 2:u=t.sent,m.push({movie:u,rating:c[a].chartRating,ranking:n.findIndex((function(e){return e.id===c[a].id}))+1});case 4:case"end":return t.stop()}}),t)})),v=0;case 12:if(!(v<c.length)){t.next=17;break}return t.delegateYield(p(v),"t0",14);case 14:v++,t.next=12;break;case 17:e.setState({topMovies:n,currentPageMovies:s,currentPageMoviesData:m,pages:l,maxRight:e.state.maxNumberOfPages,maxLeft:1,Loading:!1,pageCount:r});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPrevMovieClick=function(t,a,n){e.setState({movie:t,trailer:a,movieImages:n}),window.scrollTo({top:0,behavior:"smooth"})},e}return Object(d.a)(a,[{key:"getMovieData",value:function(){var e=Object(x.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.omdbapi.com/?apikey=".concat("457a95d2","&i=").concat(t)).then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://imdb8.p.rapidapi.com/title/get-top-rated-movies",{method:"GET",headers:{"x-rapidapi-host":"imdb8.p.rapidapi.com","x-rapidapi-key":"5be5f66559msh6061b7e3181b542p14e189jsnfa3d8f1e138e"}}).then((function(e){return e.json()})).then(function(){var e=Object(x.a)(b.a.mark((function e(t){var a,n,r,i,o,s,c,l,m,u,p=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.topMovies,t.forEach((function(e){return a.push(e)})),n=(this.state.currentPage-1)*this.state.pageCount,r=n+this.state.pageCount,i=a.slice(n,r),o=i,s=Math.ceil(t.length/this.state.pageCount),c=[],m=b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getMovieData(o[t].id.replace("/title/","").replace("/",""));case 2:l=e.sent,c.push({movie:l,rating:o[t].chartRating,ranking:a.findIndex((function(e){return e.id===o[t].id}))+1});case 4:case"end":return e.stop()}}),e)})),u=0;case 10:if(!(u<o.length)){e.next=15;break}return e.delegateYield(m(u),"t0",12);case 12:u++,e.next=10;break;case 15:this.setState({topMovies:a,currentPageMovies:i,currentPageMoviesData:c,pages:s,maxRight:this.state.maxNumberOfPages,maxLeft:1,Loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=[],a=this.state.maxLeft;a<=this.state.maxRight;a++)t.push(r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#".concat(a),"data-value":a,onClick:this.onPageClick},a)));return r.a.createElement("div",{className:"ml-5 mt-3 TopMovies"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h2",null,"Top Rated Movies")),r.a.createElement("div",{className:"col-lg-4 col-xl-3"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("span",null,r.a.createElement("b",null,"Number of items")),":",r.a.createElement("button",{className:"btn btn-secodary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.pageCount),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("a",{className:"dropdown-item",href:"#","data-value":"5",onClick:this.numberOfItemsOnClick},"5"),r.a.createElement("a",{className:"dropdown-item",href:"#","data-value":"10",onClick:this.numberOfItemsOnClick},"10"),r.a.createElement("a",{className:"dropdown-item",href:"#","data-value":"15",onClick:this.numberOfItemsOnClick},"15"))))),!0===this.state.Loading?r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",null,r.a.createElement("div",{className:"container m-1"},r.a.createElement("div",{className:"row header"},r.a.createElement("div",{className:"col-4 offset-1"},r.a.createElement("span",null,"Rank & Title")),r.a.createElement("div",{className:"col-1"},r.a.createElement("span",null,"Rating"))),this.state.currentPageMoviesData.map((function(t){return r.a.createElement("div",null,r.a.createElement(D,{location:e.props.location,movieData:t})," ",r.a.createElement("hr",null))}))),r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{key:"f",className:"page-item"},r.a.createElement("a",{href:"#1",className:"page-link","data-value":"f",onClick:this.onPageClick},"First")),t,r.a.createElement("li",{key:"l",className:"page-item"},r.a.createElement("a",{href:"#".concat(this.state.pages),className:"page-link","data-value":"l",onClick:this.onPageClick},"Last"))),r.a.createElement("div",{className:"container previous-movies-group m-1"},r.a.createElement("h5",null,"History"),r.a.createElement("div",{className:"row"},this.props.history.map((function(t){var a;return r.a.createElement("div",{className:"col-1 mr-5"},r.a.createElement(C,{moviePoster:null===(a=t.movie)||void 0===a?void 0:a.Poster,movieTrailer:t.trailer,movie:t.movie,images:t.movieImages,onPrevMovieClickHandler:e.onPrevMovieClick}))}))))))}}]),a}(r.a.Component)),L=Object(c.b)((function(e){var t;return{history:null===(t=e.addMovieToHistory)||void 0===t?void 0:t.movieBrowsingHistory}}),null)(S);function Y(){return r.a.createElement("div",{className:"row justify-content-end navbar-row"},r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg justify-content-between"},r.a.createElement("div",{className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(s.b,{to:"/",className:"mr-3"},"Home "),r.a.createElement(s.b,{to:"/top_movies",className:"mr-3"},"Top Movies"))))))}var V=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement(Y,null),r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",component:T,exact:!0}),r.a.createElement(g.a,{path:"/top_movies",component:L}),r.a.createElement(g.a,{path:"/:movieName",render:function(e){return r.a.createElement(T,null)}}))))}}]),a}(r.a.Component);o.a.render(r.a.createElement(s.a,null,r.a.createElement(c.a,{store:p},r.a.createElement(V,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.20d6dece.chunk.js.map